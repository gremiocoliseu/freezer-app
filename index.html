<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Freezer | Autoatendimento</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
    }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">

  <div class="max-w-md mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">

    <!-- HEADER -->
    <div class="bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white">
      <h1 class="text-2xl font-bold">Freezer</h1>
      <p class="text-blue-100 text-sm">Autoatendimento</p>
    </div>

    <!-- NOME -->
    <div class="p-6 border-b border-gray-200">
      <label class="block">
        <span class="text-sm font-semibold text-gray-700">Seu nome (opcional)</span>
        <input
          type="text"
          id="nome"
          placeholder="Ex: João"
          class="mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-800 focus:border-blue-500 focus:outline-none"
        >
      </label>
    </div>

    <!-- PRODUTOS -->
    <div id="products" class="p-6 space-y-4"></div>

    <!-- TOTAL E PIX -->
    <div class="bg-gradient-to-r from-gray-50 to-gray-100 p-6 border-t border-gray-200">

      <div class="flex justify-between items-center mb-4">
        <span class="text-lg font-semibold text-gray-700">Total a pagar</span>
        <span id="totalDisplay" class="text-3xl font-bold text-blue-600">R$ 0,00</span>
      </div>

      <div class="bg-white rounded-xl p-4 border border-gray-200 mb-4">
        <p class="text-sm font-semibold text-gray-700 mb-2">Chave Pix</p>
        <div class="flex gap-2">
          <input
            type="text"
            id="pixKey"
            value="52782699000192"
            readonly
            class="flex-1 bg-gray-50 border border-gray-300 rounded-lg px-3 py-2 text-gray-800 font-mono text-sm"
          >
          <button
            onclick="copiarPix()"
            class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium"
          >
            Copiar
          </button>
        </div>
      </div>

      <button
        id="finalizarBtn"
        onclick="finalizarPedido()"
        class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 disabled:from-gray-400 disabled:to-gray-400 text-white font-bold py-4 rounded-xl text-lg shadow-lg disabled:cursor-not-allowed"
        disabled
      >
        Finalizar Pedido
      </button>
    </div>
  </div>

  <!-- SCRIPT -->
  <script>
    const products = [
      { id: "energetico", name: "Energético", price: 10 },
      { id: "refrigerante", name: "Refrigerante", price: 5 },
      { id: "isotonico", name: "Isotônico", price: 5 },
      { id: "whey", name: "Whey", price: 5 }
    ];

    const quantities = {
      energetico: 0,
      refrigerante: 0,
      isotonico: 0,
      whey: 0
    };

    function renderProducts() {
      const container = document.getElementById("products");
      container.innerHTML = products.map(p => `
        <div class="bg-gray-50 rounded-xl p-4 border border-gray-200">
          <div class="flex justify-between items-start mb-3">
            <div>
              <h3 class="font-semibold text-gray-800 text-lg">${p.name}</h3>
              <p class="text-blue-600 font-medium">R$ ${p.price.toFixed(2)}</p>
            </div>
            <div class="text-right">
              <p class="text-sm text-gray-500">Subtotal</p>
              <p id="subtotal-${p.id}" class="font-bold text-gray-800">R$ 0,00</p>
            </div>
          </div>

          <div class="flex items-center gap-3">
            <button onclick="updateQuantity('${p.id}', -1)"
              class="w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-lg text-xl font-bold">−</button>

            <input type="number" min="0" value="0"
              id="qty-${p.id}"
              onchange="setQuantity('${p.id}', this.value)"
              class="flex-1 text-center text-xl font-semibold border-2 border-gray-300 rounded-lg py-2">

            <button onclick="updateQuantity('${p.id}', 1)"
              class="w-10 h-10 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xl font-bold">+</button>
          </div>
        </div>
      `).join("");
    }

    function updateQuantity(id, delta) {
      quantities[id] = Math.max(0, quantities[id] + delta);
      document.getElementById(`qty-${id}`).value = quantities[id];
      updateTotals();
    }

    function setQuantity(id, value) {
      quantities[id] = Math.max(0, parseInt(value) || 0);
      updateTotals();
    }

    function updateTotals() {
      let total = 0;
      products.forEach(p => {
        const subtotal = p.price * quantities[p.id];
        document.getElementById(`subtotal-${p.id}`).innerText =
          `R$ ${subtotal.toFixed(2)}`;
        total += subtotal;
      });
      document.getElementById("totalDisplay").innerText =
        `R$ ${total.toFixed(2)}`;
      document.getElementById("finalizarBtn").disabled = total === 0;
    }

    function copiarPix() {
      navigator.clipboard.writeText("52782699000192");
      alert("Pix copiado");
    }

    function finalizarPedido() {
      alert("Pedido finalizado. Obrigado!");
      document.getElementById("nome").value = "";
      Object.keys(quantities).forEach(k => quantities[k] = 0);
      renderProducts();
      updateTotals();
    }

    renderProducts();
  </script>
</body>
</html>
